{% extends "base.html" %}

{% block title %}Register - Bus Booking{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h2 class="auth-title">
            <i class="fas fa-user-plus"></i> Create New Account
        </h2>
        
        <form method="POST" class="auth-form" onsubmit="return validateRegistration()">
            <div class="form-row">
                <div class="form-group">
                    <label for="username">
                        <i class="fas fa-user"></i> Username *
                    </label>
                    <input type="text" id="username" name="username" required 
                           placeholder="Choose a username" class="form-control">
                    <small class="form-text">Must be 3-20 characters</small>
                </div>
                
                <div class="form-group">
                    <label for="email">
                        <i class="fas fa-envelope"></i> Email *
                    </label>
                    <input type="email" id="email" name="email" required 
                           placeholder="your@email.com" class="form-control">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="password">
                        <i class="fas fa-lock"></i> Password *
                    </label>
                    <input type="password" id="password" name="password" required 
                           placeholder="Create a password" class="form-control">
                    <small class="form-text">Minimum 6 characters</small>
                </div>
                
                <div class="form-group">
                    <label for="confirm_password">
                        <i class="fas fa-lock"></i> Confirm Password *
                    </label>
                    <input type="password" id="confirm_password" name="confirm_password" required 
                           placeholder="Repeat password" class="form-control">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="full_name">
                        <i class="fas fa-id-card"></i> Full Name *
                    </label>
                    <input type="text" id="full_name" name="full_name" required 
                           placeholder="Your full name" class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="phone">
                        <i class="fas fa-phone"></i> Phone Number
                    </label>
                    <input type="tel" id="phone" name="phone" 
                           placeholder="+1234567890" class="form-control">
                </div>
            </div>
            
            <div class="form-group">
                <div class="form-check">
                    <input type="checkbox" id="terms" name="terms" required class="form-check-input">
                    <label for="terms" class="form-check-label">
                        I agree to the Terms & Conditions
                    </label>
                </div>
            </div>
            
            {% if not online %}
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i>
                <strong>Offline Registration:</strong> Your data will be saved locally and 
                synchronized when internet connection is restored.
            </div>
            {% endif %}
            
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </div>
            
            <div class="auth-links">
                <p>Already have an account? 
                    <a href="{{ url_for('login') }}">Login here</a>
                </p>
            </div>
        </form>
    </div>
</div>

<script>
function validateRegistration() {
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm_password').value;
    const username = document.getElementById('username').value;
    
    if (password !== confirmPassword) {
        alert('Passwords do not match!');
        return false;
    }
    
    if (password.length < 6) {
        alert('Password must be at least 6 characters long!');
        return false;
    }
    
    if (username.length < 3 || username.length > 20) {
        alert('Username must be between 3-20 characters!');
        return false;
    }
    
    return true;
}
</script>
{% endblock %}